{% extends 'base.html' %}

{% block title %}Olvidé mi contraseña{% endblock %}

{% block customCSS %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/forgot_password.css') }}">
{% endblock %}

{% block body %}
    <div class="logo">
        <img src="{{ url_for('static', filename='img/logo_icon.png') }}" alt="Logo">
    </div>

    <div class="container">
        <h2>¿Olvidaste tu contraseña?</h2>
        <p>Ingresa tu correo y te enviaremos un enlace para restablecerla.</p>

        <form id="forgot-form" action="{{ url_for('forgot_password') }}" method="POST" novalidate>
            <input type="email" id="forgotEmail" name="email" placeholder="Correo electrónico">
            <button type="submit">Enviar enlace</button>
        </form>

        <a href="{{ url_for('login') }}">Volver al inicio de sesión</a>
    </div>

    <div class="planta">
        <img src="{{ url_for('static', filename='img/plantaa.png') }}" alt="planta">
    </div>

    <!-- SweetAlert -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <script>
            Swal.fire({
              icon: "{{ 'success' if category == 'success' else 'error' }}",
              title: "{{ 'Correo enviado' if category == 'success' else 'Error' }}",
              text: "{{ message }}",
              confirmButtonText: "Entendido"
            });
      </script>
    {% endfor %}
  {% endif %}
{% endwith %}
{% endblock %}